/*
 * File:   ssd_1306.c
 * Author: User
 *
 * Created on 5 ????? 2020 ?., 13:58
 */


#include <stdint.h>

#include "xc.h"
#include "i2c.h"
#include "ssd_1306.h"

const unsigned char one [] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0xC0, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x03, 0x83, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0x83, 0x80, 0x80, 0x80, 0x00,
0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03};

const unsigned char two [] = {0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0x80, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x03, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xF1, 0xFF, 0xFF, 0x7F, 0x00, 
0x00, 0x00, 0x00, 0x00, 0xC0, 0xE0, 0xE0, 0xF0, 0xF8, 0xFC, 0xBE, 0xBE, 0x9F, 0x8F, 0x87, 0x83, 0x81, 0x80, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03};

const unsigned char three [] = {
0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0xC3, 0xE1, 0xE1, 0xE1, 0xE0, 0xE0, 0xE0, 0xF0, 0xF9, 0xBF, 0xBF, 0x1F, 0x1F, 0x07, 
0x00, 0x00, 0x80, 0xC0, 0xC0, 0x80, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0xC1, 0xE3, 0xFF, 0xFF, 0xFF, 0x7F, 0x3E, 
0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x01, 0x00
};

const unsigned char four [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xF0, 0x7C, 0x3E, 0x1F, 0x0F, 0x07, 0x83, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 
0x00, 0x00, 0x00, 0x3C, 0x3F, 0x3F, 0x3F, 0x3F, 0x3D, 0x3C, 0x3C, 0x3C, 0x3C, 0xFC, 0xFF, 0xFF, 0xFF, 0x3F, 0x3D, 
0x3C, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x00
};

const unsigned char five [] = {
0x00, 0x00, 0x00, 0x00, 0x00, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x70, 0x00,
0x00, 0x00, 0x00, 0x00, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00,
0x00, 0x00, 0x00, 0x80, 0xC0, 0xC0, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xC0, 0xC0, 0xF1, 0xFF, 0xFF, 0xFF, 0x7F, 
0x1F, 0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x03, 0x01, 0x00
};

const unsigned char six [] = {
0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0x00, 0x00, 
0x00, 0x00, 0x00, 0xF0, 0xFE, 0xFF, 0xFF, 0xFF, 0xC7, 0xC1, 0xE1, 0xE0, 0xE0, 0xE0, 0xE0, 0xE0, 0xC1, 0x81, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xE3, 0x81, 0x81, 0x81, 0x81, 0xC3, 0xFF, 0xFF, 0xFF, 0xFF, 
0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01
};

const unsigned char seven [] = {
0x00, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xF8, 0xFE, 0xFF, 0xFF, 0x1F, 0x07, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xF0, 0xFC, 0xFF, 0xFF, 0x7F, 0x0F, 0x03, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x07, 0x07, 0x07, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char eight [] = {
0x00, 0x00, 0x00, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00,
0x00, 0x00, 0x00, 0x0F, 0x3F, 0x7F, 0x7F, 0xFF, 0xF1, 0xE0, 0xE0, 0xE0, 0xF1, 0xFF, 0xFF, 0x3F, 0x1F, 0x0F, 0x00,
0x00, 0x00, 0xF8, 0xFC, 0xFE, 0xFF, 0xFF, 0xC7, 0x83, 0x81, 0x81, 0x83, 0x83, 0xC7, 0xFF, 0xFF, 0xFF, 0xFE, 0x78,
0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x03, 0x01, 0x00
};

const unsigned char nine [] = {
0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x00,
0x00, 0x00, 0x7E, 0xFF, 0xFF, 0xFF, 0xFF, 0xE1, 0xC0, 0xC0, 0xC0, 0xC0, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x00, 
0x00, 0x00, 0x00, 0xC0, 0xC1, 0x83, 0x83, 0x83, 0x83, 0x83, 0xC3, 0xC1, 0xF1, 0xFF, 0xFF, 0xFF, 0x3F, 0x07, 0x00, 
0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00
};

const unsigned char zero [] = {0x00, 0x00, 0x00, 0xC0, 0xC0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00,
0x00, 0x00, 0xF8, 0xFF, 0xFF, 0xFF, 0xFF, 0x03, 0x01, 0x00, 0x00, 0x00, 0x01, 0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 
0x00, 0x00, 0x00, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0xC0, 0x80, 0x80, 0x80, 0xC0, 0xE0, 0xFF, 0xFF, 0xFF, 0x7F, 
0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x01, 0x01
};

const unsigned char numbers [10][76] = {
   {0x00, 0x00, 0x00, 0xC0, 0xC0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00,
    0x00, 0x00, 0xF8, 0xFF, 0xFF, 0xFF, 0xFF, 0x03, 0x01, 0x00, 0x00, 0x00, 0x01, 0x03, 0xFF, 0xFF, 0xFF, 0xFF, 0xFC, 
    0x00, 0x00, 0x00, 0x1F, 0xFF, 0xFF, 0xFF, 0xFF, 0xE0, 0xC0, 0x80, 0x80, 0x80, 0xC0, 0xE0, 0xFF, 0xFF, 0xFF, 0x7F, 
    0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x01, 0x01 },
    
   {0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0xC0, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x03, 0x83, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0x83, 0x80, 0x80, 0x80, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03 },
    
   {0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0x80, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x03, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xF1, 0xFF, 0xFF, 0x7F, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0xC0, 0xE0, 0xE0, 0xF0, 0xF8, 0xFC, 0xBE, 0xBE, 0x9F, 0x8F, 0x87, 0x83, 0x81, 0x80, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03 },
    
   {0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0xC3, 0xE1, 0xE1, 0xE1, 0xE0, 0xE0, 0xE0, 0xF0, 0xF9, 0xBF, 0xBF, 0x1F, 0x1F, 0x07, 
    0x00, 0x00, 0x80, 0xC0, 0xC0, 0x80, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0xC1, 0xE3, 0xFF, 0xFF, 0xFF, 0x7F, 0x3E, 
    0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x01, 0x00 },
    
   {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xF0, 0x7C, 0x3E, 0x1F, 0x0F, 0x07, 0x83, 0xFF, 0xFF, 0xFF, 0xFF, 0x1F, 
    0x00, 0x00, 0x00, 0x3C, 0x3F, 0x3F, 0x3F, 0x3F, 0x3D, 0x3C, 0x3C, 0x3C, 0x3C, 0xFC, 0xFF, 0xFF, 0xFF, 0x3F, 0x3D, 
    0x3C, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x07, 0x07, 0x07, 0x00 },
    
   {0x00, 0x00, 0x00, 0x00, 0x00, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x70, 0x00,
    0x00, 0x00, 0x00, 0x00, 0xF0, 0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00,
    0x00, 0x00, 0x00, 0x80, 0xC0, 0xC0, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0xC0, 0xC0, 0xF1, 0xFF, 0xFF, 0xFF, 0x7F, 
    0x1F, 0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x03, 0x01, 0x00 },
    
   {0x00, 0x00, 0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0xF0, 0xFE, 0xFF, 0xFF, 0xFF, 0xC7, 0xC1, 0xE1, 0xE0, 0xE0, 0xE0, 0xE0, 0xE0, 0xC1, 0x81, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x3F, 0xFF, 0xFF, 0xFF, 0xFF, 0xE3, 0x81, 0x81, 0x81, 0x81, 0xC3, 0xFF, 0xFF, 0xFF, 0xFF, 
    0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01 },
    
   {0x00, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xF8, 0xFE, 0xFF, 0xFF, 0x1F, 0x07, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xF0, 0xFC, 0xFF, 0xFF, 0x7F, 0x0F, 0x03, 0x00, 0x00, 0x00, 0x00, 
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x07, 0x07, 0x07, 0x07, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },
    
   {0x00, 0x00, 0x00, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x0F, 0x3F, 0x7F, 0x7F, 0xFF, 0xF1, 0xE0, 0xE0, 0xE0, 0xF1, 0xFF, 0xFF, 0x3F, 0x1F, 0x0F, 0x00,
    0x00, 0x00, 0xF8, 0xFC, 0xFE, 0xFF, 0xFF, 0xC7, 0x83, 0x81, 0x81, 0x83, 0x83, 0xC7, 0xFF, 0xFF, 0xFF, 0xFE, 0x78,
    0x00, 0x00, 0x00, 0x01, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x03, 0x01, 0x00 },
    
   {0x00, 0x00, 0x80, 0xC0, 0xE0, 0xE0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xE0, 0xE0, 0xC0, 0x80, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x7E, 0xFF, 0xFF, 0xFF, 0xFF, 0xE1, 0xC0, 0xC0, 0xC0, 0xC0, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x00, 
    0x00, 0x00, 0x00, 0xC0, 0xC1, 0x83, 0x83, 0x83, 0x83, 0x83, 0xC3, 0xC1, 0xF1, 0xFF, 0xFF, 0xFF, 0x3F, 0x07, 0x00, 
    0x00, 0x00, 0x00, 0x03, 0x03, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x07, 0x03, 0x03, 0x01, 0x00, 0x00, 0x00, 0x00 }
};

const unsigned char all [] = {
0x00, 0x00, 0x00, 0x00, 0x40, 0x40, 0xE0, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x20,
0x20, 0xE0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x20, 0x20, 0xE0, 0xC0, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0xC0, 0x60, 0xE0, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0xE0, 0x20, 0x20,
0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x60, 0x20, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
0x20, 0x20, 0x20, 0xE0, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x20, 0x20, 0x60, 0xE0, 0x00,
0x00, 0x00, 0x00, 0x00, 0xE0, 0x20, 0x20, 0x60, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x60,
0x60, 0x60, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x20, 0x20, 0x3F, 0x3F, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x30, 0x38,
0x2C, 0x27, 0x23, 0x20, 0x00, 0x00, 0x00, 0x00, 0x20, 0x22, 0x22, 0x3F, 0x1D, 0x00, 0x00, 0x00,
0x00, 0x0C, 0x0F, 0x09, 0x08, 0x3F, 0x3F, 0x08, 0x00, 0x00, 0x00, 0x00, 0x23, 0x23, 0x22, 0x3E,
0x3E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x31, 0x31, 0x21, 0x3F, 0x0C, 0x00, 0x00, 0x00, 0x00,
0x00, 0x38, 0x1E, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3D, 0x27, 0x27, 0x27, 0x3D, 0x00,
0x00, 0x00, 0x00, 0x00, 0x27, 0x24, 0x24, 0x34, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x30,
0x30, 0x30, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

void oledCommand(uint8_t cmd){
    i2cBeginTransaction(0x78);
    i2cWrite(0x00);
    i2cWrite(cmd);
    i2cEndTransaction();
}

void ssdInit(){
    oledCommand(0xAE);//?????????? ???????
    oledCommand(0xD5);
    oledCommand(0x80);
    oledCommand(0xD3);
    oledCommand(0x0);
    oledCommand(0x40);
    oledCommand(0x8D);//????????? ?????????? ??????????
    oledCommand(0x14);
    oledCommand(0x20);//????????? ?????????
    oledCommand(0x00);// 0?00 ??? ??????????????, 0?01 ??? ????????????, 0?02 ??? ???????????? ?????????
    oledCommand(0xA1);//????????? ?? ???????????, ??? ??????????? ?????? ?????? ?????????? ???????????? ??????? 0xA0
    oledCommand(0xC8);//????????? ?? ?????????, 0xC0 ??? ?????????? ??????????? ?? ?????????.
    //????????????? ????????????? ?????? 0xC8 ? 0xA1 ??? 0xA0 ? 0xC0 ????????? ????????? ??????????? ?? 180 ????????.
    oledCommand(0xDA);
    oledCommand(0x12);
    oledCommand(0x81);//????????? ????????????? ???????
    oledCommand(0xCF);
    oledCommand(0xD9);
    oledCommand(0xF1);
    oledCommand(0xDB);
    oledCommand(0x40);
    oledCommand(0xA4);
    oledCommand(0xA6);//???????? ???????, 0xA6 ??? ?????????? ????????, 0xA7 ??? ????????? ???????? ?????.
    ssdClear();
    ssdCommand(0xD5);
    ssdCommand(0xA0);
    oledCommand(0xAF);//????????? ???????
    
}

void ssdCommand(uint8_t cmd){
    i2cBeginTransaction(0x78);
    i2cWrite(0x00);
    i2cWrite(cmd);
    i2cEndTransaction();
}


void ssdData(uint8_t cmd){
    i2cBeginTransaction(0x78);
    i2cWrite(0x40);
    i2cWrite(cmd);
    i2cEndTransaction();
}

void setCursor(uint8_t x, uint8_t y){
    oledCommand(0x21);
    oledCommand(x);
    oledCommand(127);
    oledCommand(0x22); 
    oledCommand(y); 
    oledCommand(7);
}

void setCursorOffset(uint8_t x, uint8_t offsetX, uint8_t y,  uint8_t offsetY){
    oledCommand(0x21);
    oledCommand(x);
    oledCommand(x + offsetX);
    oledCommand(0x22); 
    oledCommand(y); 
    oledCommand(y + offsetY);
}

void ssdClear(){
    uint64_t b;
    for (b = 0; b < 1024; b++){ 
        ssdData(0x00);
    }
}

void ssdClearPage(uint8_t page){
    setCursor(0, page);
    uint64_t b;
    for (b = 0; b < 128; b++){ 
        ssdData(0x00);
    }
}

void ssdClearBlock(){
    uint64_t b;
    for (b = 0; b < 80; b++){ 
        ssdData(0x00);
    }
}

void verticalScrollEnabled(){
    ssdCommand(0x2E);
    ssdCommand(0x29);
    ssdCommand(0x00);
    ssdCommand(0x00);
    ssdCommand(0x00);
    ssdCommand(0x07);
    ssdCommand(0x01);
    ssdCommand(0x2F);
    
    ssdCommand(0x29);
    ssdCommand(0x2F);
}

void ssdHorizontalScrollEnabled(){
    ssdCommand(0x2E);
    ssdCommand(0x26);
    ssdCommand(0x00);
    ssdCommand(0x00);
    ssdCommand(0x06);
    ssdCommand(0x03);
    ssdCommand(0x00);
    ssdCommand(0xFF);
    
    
    ssdCommand(0x2F);
}

void ssdPrintDigit(uint16_t digit, uint8_t x, uint8_t y){
    setCursorOffset( x, 19, y, 4 );     
    uint16_t b;
    for (b = 0; b < 76; b++){
        ssdData(numbers[digit][b]);
    }
}

void ssdAll(uint8_t x){
    oledCommand(0x21);
    oledCommand(x);
    oledCommand(127);
    oledCommand(0x22); 
    oledCommand(0); 
    oledCommand(1);
    
    uint64_t b;
    for (b = 0; b < 240; b++){ 
        ssdData(all[b]);
    }
}